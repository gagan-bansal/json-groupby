{
  "version": 3,
  "sources": [
    "node_modules/browser-pack/_prelude.js",
    "json-groupby.js",
    "property-value.js"
  ],
  "names": [],
  "mappings": "AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()",
    "'use strict';\nvar propertyAt = require('./property-value.js')\n\nfunction groupBy(items, properties, collect) {\n  // TODO argument validation\n  if (arguments.length < 2) return arr;\n  var groups = _groupBy(items, properties);\n  // collect other properties values in array\n  if (collect && collect.length > 0)\n    groups = collectProperties(groups, collect);\n\n  return groups;\n}\n\nfunction _groupBy(items, properties) {\n  var group = {};\n \tif (typeof properties[0] === 'string') {\n \t  group = groupByCategory(items, properties[0]);\n \t} else {\n \t  group = groupByRange(items, properties[0]);\n \t}\n  properties = properties.slice(1);\n  if (properties.length > 0) {\n    for (var key in group) {\n      group[key] = _groupBy(group[key], properties);\n    }\n  }\n  return group;\n}\n\nfunction groupByCategory(arr, prop) {\n  return arr.reduce(function(group, item) {\n    var tags = propertyAt(item, prop);\n    tags.forEach(function(tag) { \n      group[tag] = group[tag] || [];\n      group[tag].push(item);\n    });\n    return group;\n  },{});\n}\n\nfunction groupByRange(arr, lookup) {\n  return arr.reduce(function(group, f) {\n    var val, ind, tag;\n    val = propertyAt(f, lookup.property);\n    ind = locationOf(val, lookup.intervals);\n    if (ind === lookup.intervals.length -1) ind--;\n    tag = lookup.labels ? lookup.labels[ind] : ind;\n    group[tag] = group[tag] || [];\n    group[tag].push(f);\n    return group;\n  },{});\n}\n\n// collect the properties in an array \nfunction collectProperties(groups, properties) { \n  var collection = {};\n  for (var key in groups) {\n    if (Array.isArray(groups[key])) {\n      collection[key] = groups[key].reduce(function(coll, item) {\n        properties.forEach(function(prop) { \n          if (!coll[prop]) coll[prop] = [];\n          coll[prop] = coll[prop].concat(propertyAt(item,prop));\n        })\n        return coll;\n      }, {})\n    } else {\n      collection[key] = collectProperties(groups[key], properties);\n    }\n  }\n  return collection;\n}\n\n// similar to Array.findIndex but more efficient\n// http://stackoverflow.com/q/1344500/713573\nfunction locationOf(element, array, start, end) {\n  start = start || 0;\n  end = end || array.length;\n  var pivot = parseInt(start + (end - start) / 2, 10);\n  if (end-start <= 1 || array[pivot] === element) return pivot;\n  if (array[pivot] < element) {\n    return locationOf(element, array, pivot, end);\n  } else {\n    return locationOf(element, array, start, pivot);\n  }\n}\nmodule.exports = groupBy;\n",
    "function valueAt(obj, path) {\n  var parts = path.split('.')\n  var prop = parts.shift()\n  if (isPrimitive(obj[prop])) {\n    return [obj[prop]]\n  } else if (isObject(obj[prop])) {\n    return valueAt(obj[prop], parts.join('.'))\n  } else if (isPrimitiveArray(obj[prop])) {\n    return obj[prop].reduce(function(values, val) {\n\t\t\tif (values.indexOf(val) < 0) values.push(val)\n      return values\n    },[])\n  } else if (isObjectArray(obj[prop])) {\n    return obj[prop].reduce(function(values, item) {\n      var vals = valueAt(item, parts.join('.'))\n      vals.reduce(function(sum, key) {\n\t\t\t\tif (sum.indexOf(key) < 0) sum.push(key)\n        return sum\n      }, values)\n\t\t\treturn values\n    }, [])\n  } else {\n    throw new TypeError('property path: \"'+ path + '\" not valid in your data at object: '+ JSON.stringify(obj))\n  }\n}\n\nfunction isPrimitive(val) {\n  return typeof val === 'string' || typeof val === 'number' \n    || typeof val === 'boolean' \n}\n\nfunction isPrimitiveArray(val) {\n  return Array.isArray(val) && val.length > 0 && isPrimitive(val[0])\n}\n\nfunction isObject(val) {\n  // `typeof [{id: 1}]` returns value object so frst negate array \n  return !Array.isArray(val) && typeof val === 'object'\n}\n\nfunction isObjectArray(val) {\n  return Array.isArray(val) && val.length > 0 && typeof val[0] === 'object' \n}\n\nmodule.exports = valueAt \n"
  ]
}